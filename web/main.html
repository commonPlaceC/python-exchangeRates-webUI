<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Converter</title>
    <link rel="icon" icon="image/png" href="./public/img/favicon.png"></script>
    <link rel="stylesheet" href="main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">
    <script type="text/javascript" src ="eel.js"></script>
</head>
<body>

    
    <div class=""header>
        <img class="mainLogo" src="public/img/reload.png" width="150px" height="150px"/>
        <h1>Currency Converter</h1>
        <div class="wrapper1">
            <div>
                <img src="https://img.icons8.com/color/48/000000/russian-federation-circular.png"/><br/>
                <span>Rubles</span>
            </div>
            <input id='typeHere' placeholder="1.00" required>
        </div>
        <div class="wrapper2">
            <button id="show" onClick="displayCurrency()">Convert</button>
            <div id='info'></div>
            <button id="usd" onClick="choice1()"><img src="https://img.icons8.com/color/30/000000/usa.png"/>Dollars</button>
            <button id="eur" onClick="choice2()"><img src="https://img.icons8.com/color/30/000000/flag-of-europe.png"/>Euros</button>
            <button id="yen" onClick="choice3()"> <img src="https://img.icons8.com/color/30/000000/japan.png"/>Yens</button>

            <script type="text/javascript">
                function choice1() {
                    let choice = 1;
                    window.choice=choice;
                }
                
                function choice2() {
                    let choice = 2;
                    window.choice=choice;
                }
                
                function choice3() {
                    let choice = 3;
                    window.choice=choice;
                }
            </script>
        </div>
                <script type="text/javascript">
                    async function displayCurrency() {
                        let input = document.getElementById('typeHere').value;
                        let userChoice = window.choice;
                        if (userChoice === undefined) {
                            alert('Please select your currencyðŸ˜­');
                        };
                        if (input.length == 0){
                            alert('Please enter your summðŸ˜­');
                        } else {
                            ammount = Number(input);
                        let res = await eel.convertCurrency(ammount, userChoice)();
                        document.getElementById('info').innerHTML = res;
                        }
                    }
                </script>
        </div>
    </div>
</body>
</html>